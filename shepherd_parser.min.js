/* Jison generated parser */var shepherd_parser=function(){var a={trace:function(){},yy:{},symbols_:{error:2,Program:3,EOF:4,ProgramElement:5,ModuleDeclaration:6,ImportDeclaration:7,ModuleSpecifier:8,Path:9,String:10,module:11,Id:12,at:13,SEMICOLON:14,IS:15,ImportSource:16,OPEN_BRACE:17,ModuleBody:18,CLOSE_BRACE:19,from:20,"import":21,ImportSpecifierSet:22,WILDCARD:23,ImportSpecifierNext:24,ImportSpecifier:25,COMMA:26,COLON:27,ModuleElement:28,PERIOD:29,$accept:0,$end:1},terminals_:{2:"error",4:"EOF",10:"String",11:"module",12:"Id",13:"at",14:"SEMICOLON",15:"IS",17:"OPEN_BRACE",19:"CLOSE_BRACE",20:"from",21:"import",23:"WILDCARD",26:"COMMA",27:"COLON",29:"PERIOD"},productions_:[0,[3,1],[3,2],[5,1],[5,1],[8,1],[8,1],[6,5],[6,5],[6,5],[16,1],[16,3],[7,5],[22,1],[22,1],[22,3],[24,3],[24,1],[24,0],[25,1],[25,3],[18,2],[18,2],[18,0],[28,1],[28,1],[9,1],[9,3]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return{};case 2:return f[h-1];case 3:this.$={type:"module",decl:f[h]};break;case 4:this.$={type:"import",decl:f[h]};break;case 5:this.$={type:"module",path:f[h]};break;case 6:this.$={type:"uri",path:f[h]};break;case 7:this.$={id:f[h-3],path:f[h-1]};break;case 8:this.$={id:f[h-3],src:f[h-1]};break;case 9:this.$={id:f[h-3],contents:f[h-1]};break;case 10:this.$=f[h];break;case 11:var i={id:f[h-2]};i[f[h].type]=f[h].path,this.$=i;break;case 12:var i={specifiers:f[h-3]};i[f[h-1].type]=f[h-1].path,this.$=i;break;case 13:this.$=f[h];break;case 14:this.$=f[h];break;case 15:this.$=f[h-1];break;case 16:this.$=[f[h-2]].concat(f[h]);break;case 17:this.$=f[h];break;case 19:this.$=f[h];break;case 20:this.$={remote:f[h-2],local:f[h]};break;case 21:this.$={type:"module",decl:f[h-1]};break;case 22:this.$={type:"import",decl:f[h-1]};break;case 23:this.$=null;break;case 24:this.$=f[h];break;case 25:this.$=f[h];break;case 26:this.$=f[h];break;case 27:this.$=f[h-2]+"."+f[h]}},table:[{3:1,4:[1,2],5:3,6:4,7:5,11:[1,6],21:[1,7]},{1:[3]},{1:[2,1]},{4:[1,8]},{4:[2,3]},{4:[2,4]},{12:[1,9]},{12:[1,11],17:[1,13],22:10,23:[1,12]},{1:[2,2]},{13:[1,14],15:[1,15],17:[1,16]},{20:[1,17]},{20:[2,13]},{20:[2,14]},{12:[1,20],19:[2,18],24:18,25:19},{10:[1,21]},{12:[1,23],16:22},{6:25,7:26,11:[1,6],18:24,19:[2,23],21:[1,7]},{8:27,9:28,10:[1,29],12:[1,30]},{19:[1,31]},{19:[2,17],26:[1,32]},{19:[2,19],26:[2,19],27:[1,33]},{14:[1,34]},{14:[1,35]},{14:[2,10],20:[1,36]},{19:[1,37]},{6:25,7:26,11:[1,6],18:38,19:[2,23],21:[1,7]},{6:25,7:26,11:[1,6],18:39,19:[2,23],21:[1,7]},{14:[1,40]},{14:[2,5]},{14:[2,6]},{14:[2,26],19:[2,26],26:[2,26],29:[1,41]},{20:[2,15]},{12:[1,20],19:[2,18],24:42,25:19},{9:43,12:[1,30]},{4:[2,7],11:[2,7],19:[2,7],21:[2,7]},{4:[2,8],11:[2,8],19:[2,8],21:[2,8]},{8:44,9:28,10:[1,29],12:[1,30]},{4:[2,9],11:[2,9],19:[2,9],21:[2,9]},{19:[2,21]},{19:[2,22]},{4:[2,12],11:[2,12],19:[2,12],21:[2,12]},{9:45,12:[1,30]},{19:[2,16]},{19:[2,20],26:[2,20]},{14:[2,11]},{14:[2,27],19:[2,27],26:[2,27]}],defaultActions:{2:[2,1],4:[2,3],5:[2,4],8:[2,2],11:[2,13],12:[2,14],28:[2,5],29:[2,6],31:[2,15],38:[2,21],39:[2,22],42:[2,16],44:[2,11]},parseError:function(a,b){throw new Error(a)},parse:function f(a){function n(a){c.length=c.length-2*a,d.length=d.length-a,e.length=e.length-a}function o(){var a;return a=b.lexer.lex()||1,typeof a!="number"&&(a=b.symbols_[a]||a),a}var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0,k=2,l=1;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var m=this.lexer.yylloc;e.push(m),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var p,q,r,s,t,u,v={},w,x,y,z;for(;;){r=c[c.length-1],this.defaultActions[r]?s=this.defaultActions[r]:(p==null&&(p=o()),s=f[r]&&f[r][p]);A:if(typeof s=="undefined"||!s.length||!s[0]){if(!j){z=[];for(w in f[r])this.terminals_[w]&&w>2&&z.push("'"+this.terminals_[w]+"'");var B="";this.lexer.showPosition?B="Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+z.join(", ")+", got '"+this.terminals_[p]+"'":B="Parse error on line "+(h+1)+": Unexpected "+(p==1?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(B,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:m,expected:z})}if(j==3){if(p==l)throw new Error(B||"Parsing halted.");i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,m=this.lexer.yylloc,p=o()}for(;;){if(k.toString()in f[r])break;if(r==0)throw new Error(B||"Parsing halted.");n(1),r=c[c.length-1]}q=p,p=k,r=c[c.length-1],s=f[r]&&f[r][k],j=3}if(s[0]instanceof Array&&s.length>1)throw new Error("Parse Error: multiple actions possible at state: "+r+", token: "+p);switch(s[0]){case 1:c.push(p),d.push(this.lexer.yytext),e.push(this.lexer.yylloc),c.push(s[1]),p=null,q?(p=q,q=null):(i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,m=this.lexer.yylloc,j>0&&j--);break;case 2:x=this.productions_[s[1]][1],v.$=d[d.length-x],v._$={first_line:e[e.length-(x||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(x||1)].first_column,last_column:e[e.length-1].last_column},u=this.performAction.call(v,g,i,h,this.yy,s[1],d,e);if(typeof u!="undefined")return u;x&&(c=c.slice(0,-1*x*2),d=d.slice(0,-1*x),e=e.slice(0,-1*x)),c.push(this.productions_[s[1]][0]),d.push(v.$),e.push(v._$),y=f[c[c.length-2]][c[c.length-1]],c.push(y);break;case 3:return!0}}return!0}},b=function(){var a={EOF:1,parseError:function b(a,b){if(this.yy.parseError)this.yy.parseError(a,b);else throw new Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.match+=a,this.matched+=a;var b=a.match(/\n/);return b&&this.yylineno++,this._input=this._input.slice(1),a},unput:function(a){return this._input=a+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=(new Array(a.length+1)).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e,f;this._more||(this.yytext="",this.match="");var g=this._currentRules();for(var h=0;h<g.length;h++){c=this._input.match(this.rules[g[h]]);if(c&&(!b||c[0].length>b[0].length)){b=c,d=h;if(!this.options.flex)break}}if(b){f=b[0].match(/\n.*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-1:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,g[d],this.conditionStack[this.conditionStack.length-1]);if(a)return a;return}if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a!="undefined"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){var e=d;switch(c){case 0:break;case 1:break;case 2:break;case 3:return"SEMICOLON";case 4:return"COLON";case 5:return"OPEN_BRACE";case 6:return"CLOSE_BRACE";case 7:return"module";case 8:return"import";case 9:return"export";case 10:return 13;case 11:return 15;case 12:return 20;case 13:return"WILDCARD";case 14:return 26;case 15:return 29;case 16:return"Id";case 17:return"String";case 18:return"String";case 19:return 4}},a.rules=[/^\n+/,/^\s+/,/^\t+/,/^;/,/^:/,/^\{/,/^\}/,/^module\b/,/^import\b/,/^export\b/,/^at\b/,/^is\b/,/^from\b/,/^\*/,/^,/,/^\./,/^[a-zA-Z_$][0-9a-zA-Z_$]*/,/^'.+'/,/^".+"/,/^$/],a.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],inclusive:!0}},a}();return a.lexer=b,a}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=shepherd_parser,exports.parse=function(){return shepherd_parser.parse.apply(shepherd_parser,arguments)},exports.main=function a(a){if(!a[1])throw new Error("Usage: "+a[0]+" FILE");if(typeof process!="undefined")var b=require("fs").readFileSync(require("path").join(process.cwd(),a[1]),"utf8");else var c=require("file").path(require("file").cwd()),b=c.join(a[1]).read({charset:"utf-8"});return exports.parser.parse(b)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args))