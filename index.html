<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>Shepherd-js : Keep your herd of vars where it belongs!</title>

  <link rel="stylesheet/less" type="text/css" href="app.less">
  <script type="text/javascript" src="vendor/less/dist/less-1.2.1.js"></script>
  <script type="text/javascript" src="vendor/shepherd/shepherd.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
  <script type="text/shepherd-js/config">
    {
      modularize: 'jQuery',
      noGlobal: ['jQuery', '$']
    }
  </script>
  <script type="text/shepherd-js" data-src="lib/revealer.js"></script>
  
  <style type="text/css">
    .container {
      margin: 0 auto;
      width: 960px;
    }
    a { color: #47242f; }
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
    
    p.fork { font-size: 1.1em; font-weight: bold;margin: 0 15px;}
    body .container { margin-top: 50px;}
    .nav a {font-weight: bold; font-size: 1.2em;}
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
        <div class="container-fluid">
          <h1 class="brand"><a  href="#">Shepherd-js</a></h1>
          <ul class="nav">
            <li><a href="#tldr">[ tl;dr ]</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="#usage">How to use</a></li>
            <li><a href="#about">About</a></li>
          </ul>
          <p class="pull-right fork"><a href="https://github.com/xcambar/shepherd-js">&raquo; gitHub &laquo;</a></p>
          <p class="pull-right fork"><a href="https://github.com/xcambar/shepherd-js/zipball/master">Download</a></p>
        </div>
      </div>
  </div>
  <div class="container">
    <div class="description">
      <p><strong>Shepherd</strong> is a solution to manage Javascript modules and dependencies with an
        <a href="http://wiki.ecmascript.org/doku.php?id=harmony:modules">ECMAScript:Harmony</a>-compliant syntax.</p>
      <p>Stop wrapping your code with functions to build a module, your files <strong>are</strong> your modules. Period.
      </p>
      <br />
      <p><strong>Shepherd</strong> allows you to take advantage of the features of the upcoming ECMAScript:Harmony within today's engines.</p>
    </div>
  </div>
  
  <h2 id="overview">Overview <small>A quick example to see at a glance what <strong>Shepherd</strong> basically does.</small></h2>
  <div class="container overview">
    <div class="before">
      <h3>A <em>classical</em> JS file (yes, it's ugly code. Whatever.)</h3>
      <pre>
var _min = 0;
var _max = 1000;
var _lte = function (a, b) { return a &lt;= b;};
var setMin = function (newMin) {
  if (_lte(newMin, max)) { min = newMin; }
};
var setMax = function (newMax) {
  if(_lte(min, newMax)) { max = newMax; }
};
var random = function () {
  return Math.round(Math.random() * (max - min)) + min;
};
      </pre>
    </div>
    <div class="after">
      <h3>Add sugar, let <strong>Shepherd</strong> operate: it's now a module!</h3>
      <pre>
/**
module randomRange {
  export setMin;
  export setMax;
  export random;
}
**/

var _min = 0;
var _max = 1000;
var _lte = function (a, b) { return a &lt;= b;};
var setMin = function (newMin) {
  if (_lte(newMin, max)) { min = newMin; }
};
var setMax = function (newMax) {
  if(_lte(min, newMax)) { max = newMax; }
};
var random = function () {
  return Math.round(Math.random() * (max - min)) + min;
};
      </pre>
    </div>
    <div class="clear"></div>
    <div class="before alert-message error">
      <code>global</code> is polluted by 6 variables, available all over the app.
    </div>
    <div class="after alert-message success">
      <code>global</code> is not polluted at all, some vars are hidden, only useful elements are exposed to modules importing <em>randomRange</em>.
    </div>
  </div>
  <h2 id="features">Features</h2>
  <div class="container features">
    <h3>Shepherd provides:</h3>
      <dl>
        <dt>a syntax compliant with ECMAScript:Harmony</dt>
        <dd>which means that when Harmony is implemented in your favorite JS engine, just remove the quotes surrounding the module declarations and voila! <strong>Your code is ported to Harmony</strong>.</dd>
        <dt>a clutter-free module definition</dt>
        <dd>Dont't bother wrapping your code with functions to create a module. <strong>Shepherd</strong> handles it for you out of the box by pre-processing your js files. <strong>Start writing at column 1!</strong></dd>
        <dt>a way to modularize external libraries as well</dt>
        <dd>When you cannot integrate the <strong>Shepherd</strong> syntax within an external files, tell <strong>Shepherd</strong> to do some post-processing after the external file is loaded to depollute <i>global</i>.
        <dt>backward-compatibility for your legacy-apps</dt>
        <dd>The module declarations in <strong>Shepherd</strong> are stored in strings without operators nor left-operands (think of <code>"use strict";</code>), so your files remain 100% backward compatible. Migrate your apps with ease! </dd>
      </dl>
  </div>
  <h2 id="usage">How to use</h2>
  <div class="container">
    <p>Just include the following line to your header:</p>
    <pre>&lt;script type="text/javascript" src="lib/shepherd.js">&lt;/script></pre>
    <p>Then include all the files you want Shepherd to handle like the following:</p>
    <pre>&lt;script type="text/shepherd-js" data-src="path/to/my/file.js">&lt;/script></pre>
    <p>An in-depth documentation on the syntax will very soon (I promise) be made available.</p>
  </div>
  
  <h2 id="examples">Examples <small>Let's see how it works!</small></h2>
  <div class="container">
    <dl class="unstyled examples">
    <dt>Import a module from its URI</dt>
    <dd>file.js:<pre>"module myModule from 'path/to/my/awesome/module.js'";

console.log(myModule); // Displays myModule to the console</pre>
<div class="alert-message"><code>myModule</code> is not available anywhere else in your application <small>(unless you repeat the declaration in another module)</small></div>
</dd>
    <dt>Import a module by its name</dt>
    <dd>Declaring a named module (myNamedModule.js):
<pre>/**
module myNamedModule {
  export doSomething;
}
**/
var doSomething = function () {/* ... */};
</pre>
Using the named module (myApp.js):
<pre>"module myNamedModule;";
// The above declaration specifies we want to use the module 'myNamedModule'

myNamedModule.doSomething();
</pre></dd>
    <dt>Export variables</dt>
    <dd>File1.js : Defining a module <pre>/**
export myExportedVar;
export myExportedFn;
**/

var a = 'This variable is private';
var b = function () {
  return 'This function is private too';
};

var myExportedVar = 'This variable is publicly available';
var myExportedFn = function () {
  return 'This function is publicly available';
}</pre>
File2.js : Importing a portion of the module <pre>"import myExportedVar from 'File1.js'";

console.log(a); //undefined
console.log(b); //undefined
console.log(myExportedFn); //undefined
console.log(myExportedVar); //"This variable is publicly available"</pre>
File2a.js : Importing the whole module<pre>"module 'File1.js'";

console.log(a); //undefined
console.log(b); //undefined
console.log(myExportedFn()); //"This function is publicly available"
console.log(myExportedVar); //"This variable is publicly available"</pre>
</dd>
    <dt>Turn your existing files into modules. </dt>
    <dd><pre>"module myModule {                          ";
"  import imp1 from '/path/to/import.js';   ";
"  import imp2 from namedImportedModule;    ";
"  module mod1 from '/path/to/module.js';   ";
"  module mod2 from myImportedModule;       ";
"  export expA;                             ";
"  export expB;                             ";
"}                                          ";

/** Here after goes the code of your module **/

var expA = "This is an exported string";
var expB = ['This', 'is', 'an', 'exported', 'array'];</pre>
<div class="alert-message"><b>imp2</b> and <b>mod2</b> are available via a reference name because they belong to/are (respectively) a module that has been given a name, just as in this example where <b>myModule</b> is the reference name for the module)</div></dd>
    <dt>Use external libraries as modules. </dt>
    <dd>Let's say you included jQuery from a CDN, such as <pre>&lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"&gt;&lt;/script&gt;</pre>
      If you want to remove jQuery from the global space and make it available as a module in Shepherd, just add the following in your header:
      <pre>&lt;script type="text/shepherd-js"&gt;
  "modularize!$;";
  "noGlobal!jQuery;";
  "noGlobal!$;";
&lt;/script&gt;
</pre>
Using jQuery in a module (myModule.js):
<pre>/**
module $;
**/
$.ajax(/*...*/);
</pre>
<div class="alert-message">Check out the live examples or the source code of this page too!</div>
    </dd>
    <dt>What about SSJS ?</dt>
    <dd><div class="alert-message">The commonJS wrapper is written and available in the package, but requires some testing and possibly some changes before a release.<br/>
      Check out the <a href="https://github.com/xcambar/shepherd-js/tree/master/examples/NodeJS">examples folder</a> for details.</div></dd>
    <dt>Already using RequireJS?</dt>
    <dd><div class="alert-message">The AMD wrapper is a work in progress and will be made available as soon as possible.</div></dd>
    <dt style="color: red;">Live examples</dt>
    <dd>
      <ul>
        <li><a target="_blank" href="vendor/shepherd/examples/jQuery"> Modified jQuery with the necessary exports</a></li>
        <li><a target="_blank" href="vendor/shepherd/examples/jQueryFromExternal"> jQuery from a CDN</a></li>
        <li><a target="_blank" href="vendor/shepherd/examples/underscore"> Modified Underscore with the necessary exports</a></li>
        <li><a target="_blank" href="vendor/shepherd/examples/underscoreFromExternal"> Underscore from a CDN</a></li>
        <li><a href="#"> This page!</a></li>
      </ul>
    </dd>
    <dt><a target="_blank" href="vendor/shepherd/test/">Check out the tests!</a></dt>
    </dl>
    <div class="snippets"></div>
  </div>
  <h2 id="about">About</h2>
  <div class="container">
    <h3>"Why on Earth would I learn yet another syntax..."</h3>
    "<em>...while I already know CommonJS and/or AMD which I love?</em>" Because with <strong>Shepherd</strong>, you're not learning a new custom syntax,
    you're learning to use the future versions of Javascript as ECMA designed it. 

    <h3>Why such a name "<em>Shepherd</em>" ?</h3>
    The idea came as a souvenir of a my hiking holidays during the summer 2011: a shepherd always looks after his sheep and takes care they are well grouped and graze in the right place.
    
    <h3>What about Licensing ?</h3>
    "Hmmm... let me guess. it's on GitHub, it's Javascript, there's +90% probability it's MIT."<br />
    You're right, <strong>Shepherd</strong> is licensed under the <strong>MIT license</strong>.
    
    <h3>Never heard of you... Who are you ?</h3>
    My name is Xavier Cambar, I've been a developer since the age of... Hmmm, let's say I've always been a developer, ok ?<br />
    I currently live in Paris, where I left all my previous develoment and management activities to focus on Javascript.<br />
    
    <p>Of course, you can leave me a message here at GitHub or on Twitter <a href="http://twitter.com/xcambar">@xcambar</a>.
    <br /> And if you want to send me an E-mail, surely you will find it with ease.</p>
    
  </div>
  <h2 id="tldr">tl;dr</h2>
  <div class="container">
    <p>
      Encapsulation through modules is a key factor to efficient/beautiful Javascript code.<br/>
      Both AMD and CommonJS have proven very efficient, but they are hardly compatible.<br />
      ECMA made a proposal for an extension of Javascript using modules: ES:Harmony<br />
      &rArr; Waiting for the day the proposal will be natively integrated to the runtimes, a library implements it for today's runtimes: <b>Shepherd</b>.
    </p>
  </div>
  <div class="footer">
    Copyright (c) 2012, <a href="https://github.com/xcambar">Xavier Cambar</a>, Released under the MIT Licence<br />
    The page has been built using <a href="twitter.github.com/bootstrap">Bootstrap</a>.
  </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-28551425-1");
pageTracker._trackPageview();
} catch(err) {}</script>"
</body>
</html>
